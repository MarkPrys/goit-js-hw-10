{"version":3,"file":"1-timer-79a79f4f.js","sources":["../../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nimport 'izitoast/dist/css/iziToast.min.css';\nimport iziToast from 'izitoast/dist/js/iziToast.min.js';\n\nlet userSelectedDate;\nlet countdownInterval;\n// const dateInput = document.getElementById('#datetime-picker');\n\nconst startButton = document.querySelector('[data-start]');\nstartButton.disabled = true;\n\nflatpickr(\"#datetime-picker\", {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    userSelectedDate = selectedDates[0];\n\n    if (userSelectedDate < new Date()) {\n      startButton.disabled = true;\n      iziToast.error({\n        message: 'Please choose a date in the future',\n      });\n    } else {\n      startButton.disabled = false;\n    }\n    },\n  });\n\n\n\nstartButton.addEventListener(\"click\", () => {\n  startButton.disabled = true;\n\n  const countdownElements = {\n    days: document.querySelector(\"[data-days]\"),\n    hours: document.querySelector(\"[data-hours]\"),\n    minutes: document.querySelector(\"[data-minutes]\"),\n    seconds: document.querySelector(\"[data-seconds]\"),\n  };\n\n\n  const updateTimer = () => {\n    const difference = userSelectedDate - new Date();\n\n    if (difference <= 0) {\n      clearInterval(countdownInterval);\n      countdownElements.days.textContent = '00';\n      countdownElements.hours.textContent = '00';\n      countdownElements.minutes.textContent = '00';\n      countdownElements.seconds.textContent = '00';\n      return;\n    }\n\n    const { days, hours, minutes, seconds } = convertMs(difference);\n    countdownElements.days.textContent = addLeadingZero(days);\n    countdownElements.hours.textContent = addLeadingZero(hours);\n    countdownElements.minutes.textContent = addLeadingZero(minutes);\n    countdownElements.seconds.textContent = addLeadingZero(seconds);\n    };\n\n  updateTimer();\n  countdownInterval = setInterval(updateTimer, 1000);\n\n  document.getElementById('datetime-picker').disabled = true;\n});\n\nfunction addLeadingZero(value) {\n  return value < 10 ? `0${value}` : value;\n}\n\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  const days = Math.floor(ms / day);\n  const hours = Math.floor((ms % day) / hour);\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n};\n\n\n"],"names":["userSelectedDate","countdownInterval","startButton","flatpickr","selectedDates","iziToast","countdownElements","updateTimer","difference","days","hours","minutes","seconds","convertMs","addLeadingZero","value","ms"],"mappings":"gDAMA,IAAIA,EACAC,EAGJ,MAAMC,EAAc,SAAS,cAAc,cAAc,EACzDA,EAAY,SAAW,GAEvBC,EAAU,mBAAoB,CAC5B,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrBJ,EAAmBI,EAAc,CAAC,EAE9BJ,EAAmB,IAAI,MACzBE,EAAY,SAAW,GACvBG,EAAS,MAAM,CACb,QAAS,oCACjB,CAAO,GAEDH,EAAY,SAAW,EAExB,CACL,CAAG,EAIHA,EAAY,iBAAiB,QAAS,IAAM,CAC1CA,EAAY,SAAW,GAEvB,MAAMI,EAAoB,CACxB,KAAM,SAAS,cAAc,aAAa,EAC1C,MAAO,SAAS,cAAc,cAAc,EAC5C,QAAS,SAAS,cAAc,gBAAgB,EAChD,QAAS,SAAS,cAAc,gBAAgB,CACpD,EAGQC,EAAc,IAAM,CACxB,MAAMC,EAAaR,EAAmB,IAAI,KAE1C,GAAIQ,GAAc,EAAG,CACnB,cAAcP,CAAiB,EAC/BK,EAAkB,KAAK,YAAc,KACrCA,EAAkB,MAAM,YAAc,KACtCA,EAAkB,QAAQ,YAAc,KACxCA,EAAkB,QAAQ,YAAc,KACxC,MACD,CAED,KAAM,CAAE,KAAAG,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYC,EAAUL,CAAU,EAC9DF,EAAkB,KAAK,YAAcQ,EAAeL,CAAI,EACxDH,EAAkB,MAAM,YAAcQ,EAAeJ,CAAK,EAC1DJ,EAAkB,QAAQ,YAAcQ,EAAeH,CAAO,EAC9DL,EAAkB,QAAQ,YAAcQ,EAAeF,CAAO,CAClE,EAEEL,IACAN,EAAoB,YAAYM,EAAa,GAAI,EAEjD,SAAS,eAAe,iBAAiB,EAAE,SAAW,EACxD,CAAC,EAED,SAASO,EAAeC,EAAO,CAC7B,OAAOA,EAAQ,GAAK,IAAIA,CAAK,GAAKA,CACpC,CAEA,SAASF,EAAUG,EAAI,CAMrB,MAAMP,EAAO,KAAK,MAAMO,EAAK,KAAG,EAC1BN,EAAQ,KAAK,MAAOM,EAAK,MAAO,IAAI,EACpCL,EAAU,KAAK,MAAQK,EAAK,MAAO,KAAQ,GAAM,EACjDJ,EAAU,KAAK,MAASI,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAP,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC"}